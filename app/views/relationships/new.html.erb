<p>連携コードをお持ちですか？</p>
<%= form_with model: @relationship, url: relationships_path do |f| %>
    <%= render 'shared/error_message' , object: f.object %>
    <%= f.text_field :user_id, placeholder: "パートナーのユーザーID", class: "input input-bordered w-full max-w-xs" %>
    <%= f.text_field :invitation_code, placeholder: "連携コード", class: "input input-bordered w-full max-w-xs" %>
    <%= f.submit "登録", class: "btn" %>
<% end %>
<p>持っていないので、連携コードを発行する</p>
<div class="flex flex-col items-center">
    <%= form_with model: current_user, url: relationships_invitation_code_path, data: { turbo: false } do |f| %>
        <%= render 'shared/error_message' , object: f.object %>
        <%= f.text_field :user_id, placeholder: "ユーザーID", class: "input input-bordered w-full max-w-xs" %>
        <% if current_user.related? %>
            <div>
                <%= current_user.invitation_my_role %>
            </div>
        <% else %>
            <div class="join">
                <%= f.radio_button :invitation_my_role, :monitor, aria: { label: "監視したい" }, checked: true, class: "join-item btn" %>
                <%= f.radio_button :invitation_my_role, :monitored, aria: { label: "監視されたい" }, class: "join-item btn" %>
            </div>
        <% end %>
        <%= f.submit "コード発行", class: "btn" %>
    <% end %>
</div>